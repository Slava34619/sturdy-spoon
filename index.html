<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Каталог продукции</title>
  <meta name="description" content="Купить РТИ, рукава, асбест, паронит с доставкой.">
  <link rel="stylesheet" href="styles.css"> <!-- стили подключаются отдельно -->
</head>
<body>

  <!-- Хедер -->
  <header>
    <div class="logo">ПромКаталог</div>
    <nav class="main-nav">
      <ul>
        <li><a href="#home">Главная</a></li>
        <li><a href="#categories">Категории</a></li>
        <li><a href="#about">О нас</a></li>
        <li><a href="#reviews">Отзывы</a></li>
        <li><a href="#contact">Контакты</a></li>
        <li><a href="#cart">Корзина</a></li>
      </ul>
    </nav>
  </header>

  <!-- Главная -->
  <section id="home">
    <div class="banner">
      <h1>Добро пожаловать!</h1>
      <p>Широкий ассортимент промышленных материалов</p>
    </div>
  </section>

  <!-- Категории товаров -->
  <section id="categories">
    <h2>Категории товаров</h2>
    <div class="category-list">
      <a href="#rubber">Резинотехнические изделия</a>
      <a href="#hoses">Рукава</a>
      <a href="#asbestos">Асбест</a>
      <a href="#paronite">Паронит</a>
    </div>

    <!-- Пример страницы категории -->
    <div class="category" id="rubber">
      <h3>Резинотехнические изделия</h3>
      <div class="product-card">
        <img src="img/product1.jpg" alt="Название товара">
        <h4>Название товара</h4>
        <p>Краткое описание</p>
        <p class="price">Цена: 1000 ₽</p>
        <input type="number" min="1" value="1">
        <button class="add-to-cart">Добавить в корзину</button>
      </div>
    </div>
  </section>

  <!-- Блок "О нас" -->
  <section id="about">
    <h2>О нас</h2>
    <p>Мы — надежный поставщик промышленных материалов</p>
    <div class="team">
      <img src="img/fake-person1.jpg" alt="Сотрудник 1">
      <img src="img/fake-person2.jpg" alt="Сотрудник 2">
    </div>
  </section>

  <!-- Блок отзывов -->
  <section id="reviews">
    <h2>Отзывы</h2>
    <div class="carousel">
      <div class="review">"Отличное качество, рекомендую!"</div>
      <div class="review">"Быстрая доставка и удобный сайт!"</div>
    </div>
  </section>

  <!-- Корзина -->
  <section id="cart">
    <h2>Корзина</h2>
    <div class="cart-items">
      <!-- джаваскриптом подставляются товары -->
    </div>
    <p>Общая сумма: <span id="total-price">0</span> ₽</p>
  </section>

  <!-- Форма заявки -->
  <section id="contact">
    <h2>Оформление заказа</h2>
   <!-- <form id="order-form" enctype="multipart/form-data">
      <label>Имя: <input type="text" name="name" required></label>
      <label>Email: <input type="email" name="email" required></label>
      <label>Телефон: <input type="tel" name="phone" required></label>
      <label>Комментарий: <textarea name="comment"></textarea></label>
      <label>Карточка предприятия: 
        <input type="file" name="company_card" accept=".pdf,.doc,.jpg,.png" required>
      </label>
      <button type="submit">Отправить заказ</button>
    </form>-->
	<!-- Не понимаю что заменить, оставлю закоментированным-->
	<form action="https://formsubmit.co/snabpromgroup@mail.ru" method="POST" enctype="multipart/form-data">
  <!-- остальные поля -->
	   <label>Имя: <input type="text" name="name" required></label>
      <label>Email: <input type="email" name="email" required></label>
      <label>Телефон: <input type="tel" name="phone" required></label>
      <label>Комментарий: <textarea name="comment"></textarea></label>
      <label>Карточка предприятия: 
        <input type="file" name="company_card" accept=".pdf,.doc,.jpg,.png" required>
      </label>
  <input type="hidden" name="_captcha" value="false">
  <input type="hidden" name="_template" value="table">
  <button type="submit">Отправить заказ</button>
</form> 

<script>
  const form = document.getElementById('order-form');
  form.addEventListener('submit', function (e) {
    e.preventDefault();

    const data = new FormData(form);
    const message = `
Новый заказ:
Имя: ${data.get('name')}
Email: ${data.get('email')}
Телефон: ${data.get('phone')}
Комментарий: ${data.get('comment') || '—'}

Товары:
${cart.map(item => `${item.name} — ${item.quantity} шт.`).join('\n')}
Итого: ${document.getElementById('total-price').textContent} ₽
    `;

    fetch(`https://api.telegram.org/bot7997679768:AAElsp7dWOIA54-3T533cZ2vAdN0hOu-ClM/sendMessage`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        chat_id: '7249095',
        text: message
      })
    }).then(res => {
      if (res.ok) alert('Заказ отправлен!');
      else alert('Ошибка отправки в Telegram');
    });
  });
</script>
  </section>

  <!-- Футер -->
  <footer>
    <p>&copy; 2025 ПромКаталог</p>
    <div class="messengers">
      <a href="https://t.me/yourcompany">Telegram</a>
      <a href="tel:+79998887766">Позвонить</a>
      <a href="https://wa.me/79998887766">WhatsApp</a>
    </div>
  </footer>
  
  <script>
  const cart = [];

  function updateCartUI() {
    const container = document.querySelector('.cart-items');
    container.innerHTML = '';
    let total = 0;

    cart.forEach((item, index) => {
      const itemEl = document.createElement('div');
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      itemEl.innerHTML = `${item.name} — ${item.quantity} шт. — ${itemTotal} ₽`;
      container.appendChild(itemEl);
    });

    document.getElementById('total-price').textContent = total;
  }

  document.querySelectorAll('.add-to-cart').forEach(button => {
    button.addEventListener('click', function () {
      const card = this.closest('.product-card');
      const name = card.querySelector('h4').textContent;
      const price = parseInt(card.querySelector('.price').textContent.replace(/\D/g, ''));
      const quantity = parseInt(card.querySelector('input[type=number]').value);

      const existing = cart.find(item => item.name === name);
      if (existing) {
        existing.quantity += quantity;
      } else {
        cart.push({ name, price, quantity });
      }

      this.textContent = 'В корзине';
      updateCartUI();
    });
  });
</script>

</body>
</html>
